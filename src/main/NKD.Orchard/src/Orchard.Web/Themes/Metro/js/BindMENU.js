(function(a){showDefaultMenu=function(c,i,e,d){if(a(e).find("ul").is(".submenu")){var b=a(e).find("ul.submenu");if(i.Orientation.toLowerCase()=="vertical"||a(e).parent().is(".submenu")){b.css("left",b.parent().outerWidth(true));a(e).css("position","relative");var g=a(e).children("a,span").offset().top-a(e).offset().top;g=g+a(e).children("a,span").outerHeight(true);b.css("margin-top","-"+g+"px");b.css("margin-left","0px");var j=a(e).offset().left+a(e).outerWidth(true);if(j+b.outerWidth()>a(window).width()){b.css("left","0px").css("left","-"+b.outerWidth()+"px")}}else{var f=a(e).children("a,span").offset().left-a(e).offset().left;if(f>0){b.css("margin-left","-"+f+"px")}var h=a(e).children("a,span").offset().top-a(e).offset().top;if(h>0){b.css("margin-top",h+"px")}}}a("ul:first",e).slideDown(d)};hideDefaultMenu=function(e,b,c,d){a("ul:first",c).hide()};showAccordionMenu=function(e,b,c,d){if(a(c).children("ul").is(".submenu")){a(c).children("ul").find("ul").show();a(c).children("ul").slideDown(d)}};hideAccordionMenu=function(e,b,c,d){if(a(c).children("ul").is(".submenu")){a(c).children("ul").slideUp(d)}};showMegaMenu=function(c,k,f,e){a("ul.submenu",c).hide();var g=a(f).parent().offset().left+a(f).parent().outerWidth(true);if(a(f).children("ul").is(".submenu")){var b=a(f).children("ul.submenu");b.css("position","absolute");if(k.Orientation.toLowerCase()=="vertical"){b.css("left",b.parent().outerWidth(true));a(f).css("position","relative");var i=a(f).children("a,span").offset().top-a(f).offset().top;i=i+a(f).children("a,span").outerHeight(true);b.css("margin-top","-"+i+"px");b.css("margin-left","0px");var l=a(f).offset().left+a(f).outerWidth(true);if(l+b.outerWidth()>a(window).width()){b.css("left","0px").css("left","-"+b.outerWidth()+"px")}}else{var d=a(f).find("a,span").offset().left-a(f).offset().left;if(d>0){b.css("margin-left","-"+d+"px")}var j=a(f).find("a,span").offset().top-a(f).offset().top;if(j>0){b.css("margin-top",j+"px")}if(k.Orientation.toLowerCase()=="horizontal"){var h=a(f).offset().left+b.outerWidth();if(g<h){var i=h-g;b.css("margin-left",d-i+"px")}}}}a("ul.submenu",f).slideDown(e)};hideMegaMenu=function(e,b,c,d){a("ul.submenu",e).hide()};a.fn.BindMENU=function(b){var d="fast";var c="hover";if(b.Speed!=null){d=b.Speed.toLowerCase()}if(b.Event!=null){if((b.Event.toLowerCase()=="hover")||(b.Event.toLowerCase()=="mouseover")){c="hover"}else{if((b.Event.toLowerCase()=="click")||(b.Event.toLowerCase()=="mouseclick")){c="click"}}}a("ul",this).addClass("submenu");if(navigator.userAgent.indexOf("MSIE 7")!=-1){a("ul.submenu",this).before('<div style="height: 0px; line-height: 0px; clear: both; overflow: hidden; font-size:0px; position:fixed" />')}var e=a(this);if((b.Orientation.toLowerCase()=="horizontal"&&b.MenuStyle.toLowerCase()=="accordion")||b.MenuStyle.toLowerCase()=="defaultmenu"){a("ul.submenu",this).hide().css("position","absolute");if(c=="hover"){a("li",this).hover(function(){showDefaultMenu(e,b,this,d)},function(){hideDefaultMenu(e,b,this,d)})}else{a("li > a, li > span",this).click(function(g){var f=a(this).parent("li");if(a(f).children("ul").is(".submenu")){g.preventDefault();if(a(f).children("ul").css("display")!="none"){hideDefaultMenu(e,b,f,d)}else{a(this).closest("ul").children("li").children("a, span").not(this).parent().find("ul").hide();showDefaultMenu(e,b,f,d)}}else{a(e).find("ul.submenu").hide()}})}}if(b.Orientation.toLowerCase()=="vertical"&&b.MenuStyle.toLowerCase()=="accordion"){a(this).closest("#MenuV").addClass("accordion");a(this).children("li").children("ul").hide();if(c=="hover"){a(this).children("li").hover(function(f){f.stopPropagation();showAccordionMenu(e,b,this,d)},function(f){f.stopPropagation();hideAccordionMenu(e,b,this,d)})}else{a("li > a, li > span",this).click(function(g){var f=a(this).parent("li");if(a(f).children("ul").is(".submenu")){g.preventDefault();g.stopPropagation();if(a(f).children("ul").css("display")!="none"){hideAccordionMenu(e,b,f,d)}else{showAccordionMenu(e,b,f,d)}}})}}if(b.MenuStyle.toLowerCase()=="megamenu"){a(this).parent().addClass("megamenu");a(".submenu",this).css("display","block");a(this).children("li").children("ul").each(function(){if(a(this).children("li").children("ul").is(".submenu")){a(this).parent().addClass("mega");var f=a(this).outerWidth()-a(this).width();var g="0";a(this).css("position","absolute");a(".submenu",this).css("display","block");a(this).children("li").css("display","block").css("float","left");a(this).children("li").each(function(){f+=a(this).outerWidth(true);if(a(this).outerHeight(true)>g){g=a(this).outerHeight(true)}});a(this).children("li").css("min-height",g+"px");a(this).css("min-width",f)}});a(this).children("li").children("ul").hide();if(c=="hover"){a(this).children("li").hover(function(){showMegaMenu(e,b,this,d)},function(){hideMegaMenu(e,b,this,d)})}else{a("li > a, li > span",this).click(function(g){var f=a(this).parent("li");if(a(f).children("ul").is(".submenu")){g.preventDefault();if(a(f).children("ul").css("display")!="none"){hideMegaMenu(e,b,f,d)}else{showMegaMenu(e,b,f,d)}}else{a(e).find("ul.submenu").hide()}})}}}})(jQuery);