@{
    var tagsHtml = new List<IHtmlString>();
    foreach(var t in Model.Tags) {
        if (tagsHtml.Any()) {
            tagsHtml.Add(new HtmlString(", "));
        }
        string tagName = t.TagName;
        tagsHtml.Add(Html.ActionLink(tagName, "Search", "Packages", new { area = "Orchard.Gallery", searchTerm = string.Format("tag: {0}", tagName),
            sortOrder = TempData["SortOrder"], pageSize = TempData["PageSize"] }, null));
    }
}

@if (tagsHtml.Any()) {
    foreach(var htmlString in tagsHtml) { @htmlString }
}
