(function(){var c=window.XMLRPC={},h={},g="join reverse sort push pop shift unshift splice concat slice indexOf lastIndexOf forEach map reduce reduceRight filter some every isArray".split(" "),j=g.length,s=function(a){var b=Array.prototype[a];h[a]=function(a){return b.apply(a,Array.prototype.slice.call(arguments,1))}},n;for(n=0;n<j;n++)s(g[n]);h.isArray=Array.isArray;var q=c.XMLRPCFault=function(){Error.apply(this,arguments)};q.prototype=Error();q.prototype.type="XML-RPC fault";g=c.XMLRPCRequest=
function(){XMLHttpRequest.apply(this,arguments);this.responseType="document";this.addEventListener("readystatechange",function(){4==this.readyState&&this.responseXML&&(this.responseJSON=c.fromXMLRPC(this.responseXML))})};g.prototype=Object.create(XMLHttpRequest.prototype);g.prototype.send=function(){var a=c.document(settings.methodName,settings.params);return this.prototype.send.call(this,a)};var k=function(a,b){return h.filter(a.childNodes,function(a){return a.nodeType==Node.ELEMENT_NODE&&a.nodeName==
b})};c.document=function(a,b){var f=document.implementation.createDocument(null,null,null),e=function(a,b){var c=f.createElement(a);if(1==arguments.length)return c;if("string"===typeof b)c.appendChild(f.createTextNode(b));else if(h.isArray(b))b.forEach(c.appendChild.bind(c));else if(b instanceof Element)c.appendChild(b);else throw Error("Unknown type supplied to `mkel`");return c},d=e("methodName",a);b=e("params",b.map(function(a){return e("param",e("value",c.toXMLRPC(a,e)))}));d=e("methodCall",[d,
b]);f.appendChild(d);return f};c.toXMLRPC=function(a,b){if(a instanceof r)return a.toXMLRPC(b);var f=c.types,e=typeof a;if(void 0===a||null===a)return f.nil.encode(a,b);if(a instanceof Date)return f["date.iso8601"].encode(a,b);if(h.isArray(a))return f.array.encode(a,b);if("string"==e||"boolean"==e)return f[e].encode(a,b);if("number"==e)return a===parseInt(a,10)&&!isNaN(a)?f["int"].encode(a,b):f["double"].encode(a,b);if("object"==e)return a instanceof ArrayBuffer?f.base64.encode(a,b):f.struct.encode(a,
b);throw Error("Unknown type",a);};c.parseDocument=function(a){var b=a.querySelector("methodResponse");if(a=k(b,"fault")[0])throw a=c.parseNode(a.querySelector("value > *")),b=new q(a.faultString),b.msg=b.message=a.faultString,b.type=b.code=a.faultCode,b;a=b.querySelectorAll("params > param > value > *");return h.map(a,c.parseNode)};c.parseNode=function(a){if(void 0===a)return null;var b=a.nodeName.toLowerCase();if(b in c.types)return c.types[b].decode(a);throw Error("Unknown type "+b);};c.parseValue=
function(a){if(void 0!==a)if(a=a.childNodes[0]){if(a.nodeType===Node.ELEMENT_NODE)return c.parseNode(a);if(a.nodeType==Node.TEXT_NODE)return a.nodeValue}else return""};var r=function(){};c.types={};c.makeType=function(a,b,f,e){var d;d=function(a){this.value=a};d.prototype=new r;d.prototype.tagName=a;if(b){var g=f,h=e;f=function(a,b){var c=g(a);return b(d.tagName,c)};e=function(a){return h(a.textContent,a)}}d.prototype.toXMLRPC=function(a){return d.encode(this.value,a)};d.tagName=a;d.encode=f;d.decode=
e;c.types[a]=d};g=function(a){return""+Math.floor(a)};j=function(a){return parseInt(a,10)};c.makeType("int",!0,g,j);c.makeType("i4",!0,g,j);c.makeType("i8",!0,g,j);c.makeType("i16",!0,g,j);c.makeType("i32",!0,g,j);c.makeType("double",!0,String,function(a){return parseFloat(a,10)});c.makeType("string",!0,String,String);c.makeType("boolean",!0,function(a){return a?"1":"0"},function(a){return"1"===a});var l=function(a){return 10>a?"0"+a:a};c.makeType("date.iso8601",!0,function(a){return[a.getUTCFullYear(),
"-",l(a.getUTCMonth()+1),"-",l(a.getUTCDate()),"T",l(a.getUTCHours()),":",l(a.getUTCMinutes()),":",l(a.getUTCSeconds()),"Z"].join("")},function(a){return new Date(a)});var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),p=m.reduce(function(a,b,c){a[b]=c;return a},{});c.binary={toBase64:function(a){for(var b=[],c=new Uint8Array(a),e=0,d;e<c.length;e+=3)d=(c[e+0]<<16)+(c[e+1]<<8)+(c[e+2]<<0),b.push(m[(d>>18)%64]),b.push(m[(d>>12)%64]),b.push(m[(d>>6)%64]),b.push(m[(d>>
0)%64]);for(a=3-(a.byteLength%3||3);a--;)b[b.length-a-1]="=";return b.join("")},fromBase64:function(a){var b=a.length,c=3*(b/4);"="===a.charAt(b-1)&&c--;"="===a.charAt(b-2)&&c--;for(var c=new ArrayBuffer(c),e=new Uint8Array(c),d=0,g=0,h;d<b;d+=4,g+=3)h=(p[a[d+0]]<<18)+(p[a[d+1]]<<12)+(p[a[d+2]]<<6)+(p[a[d+3]]<<0),e[g+0]=(h>>16)%256,e[g+1]=(h>>8)%256,e[g+2]=(h>>0)%256;return c}};c.makeType("base64",!0,function(a){return c.binary.toBase64(a)},function(a){return c.binary.fromBase64(a)});c.makeType("nil",
!1,function(a,b){return b("nil")},function(){return null});c.makeType("struct",!1,function(a,b){return b("struct",Object.keys(a).map(function(f){return b("member",[b("name",name),b("value",c.toXMLRPC(a[f],b))])}))},function(a){return h.reduce(k(a,"member"),function(a,f){var e=k(f,"name")[0].textContent,d=c.parseValue(k(f,"value")[0]);a[e]=d;return a},{})});c.makeType("array",!1,function(a,b){return b("array",b("data",a.map(function(a){return b("value",c.toXMLRPC(a,b))})))},function(a){return k(k(a,
"data")[0],"value").map(c.parseValue)});c.force=function(a,b){return new c.types[a](b)}})();